<!DOCTYPE html>
<html>
<head>
  <title>NYC Ordering form</title>
  <script src="https://use.typekit.net/fvr1cxh.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <link rel="stylesheet" media="all" href="css/auth.css" />
  <link rel="stylesheet" media="all" href="css/style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>

<div class="container" id="app">

  <div class="main">
    <div class="row-fluid">
      <div class="span4 offset4">
        <img src="https://auth.ioeducation.com/assets/logo_white-4cb67d9766aabe97d3cf0252add9e18e.png" alt="Logo white" />  
        <br/>  
      </div>

      <div class="span4 pull-right">
        <cart-button></cart-button>
      </div>
    </div>
  </div>

  <div class="client-table-container" style="padding: 0">
    <cart></cart>
    <user-form></user-form> 
  </div>

  <school-options></school-options>

  <div class="row-fluid client-table-container">
    <div class="span6">
      <solutions-list></solutions-list>
    </div>
    <div class="span6 client-table-container" style="padding: 20px">
      <h3>Packages</h3>
      <p>The most popular packages at our best prices</p>
      <package-list></package-list>
    </div>
  </div>

  <student-count-modal></student-count-modal>

  <div class="modals">

    <!-- add more modal descriptions here -->

    <div id="classroom" class="modal hide fade" role="dialog" >
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3>Some product name</h3>
      </div>
      <div class="modal-body">
        <p>Wow, such a great product here! Must buy</p>
      </div>
      <div class="modal-footer">
        <button class="btn form-button" data-dismiss="modal" aria-hidden="true">Close</button>
      </div>
    </div>
  </div>
</div>

<template id="student-count-modal">
  <div class="modalNumberOfStudents modal hide fade" role="dialog" >
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3>Total Students</h3>
    </div>
    <div class="modal-body">
      <p>Please enter the total number of students in your school</p>
      <div>
          <input type="text" v-model="data.studentCount" placeholder="e.g. 12X345">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn form-button" data-dismiss="modal" aria-hidden="true">Save</button>
    </div>
  </div>
</template>

<template id="school-options-template">
  <div class="row-fluid school-options client-table-container">
    <div class="span8" style="padding-left: 40px;">
      <h4>School Type</h4>
      <label>
        <input type="radio" name="schoolType" value="High School" v-model="data.schoolType">
        <span>High School</span>
      </label>
      <label>
        <input type="radio" name="schoolType" value="Elementary or Junior High School" v-model="data.schoolType">
        <span>Elementary or Junior High School (K-8)</span> 
      </label>
    </div>

    <div class="span4">
      <h4>Amount of Students</h4>
      <label>
        <input type="radio" name="students" v-model="data.studentPriceGroup" value="Under 650 Students">
        <span>Under 650 Students</span>
      </label>
      <label>
        <input type="radio" name="students" v-model="data.studentPriceGroup" value="650 - 1500 Students">
        <span>650 - 1500 Students</span>
      </label>
      <label>
        <input type="radio" name="students" v-model="data.studentPriceGroup" value="Over 1500 Students">
        <span>Over 1500 Students</span>
      </label>
    </div>
  </div>
</template>

<template id="packages-template">
  <div>
    <table class="table packages table-condensed client-table">
      <tr v-for="item in filteredList">
        <td>
            <label>
              <input type="radio" name="package"  
                v-on:click="selectPackage(item)"
                 /> 
              <span>{{ item.name }}</span>
            </label>
        </td>
        <td>{{ priceForItem(item.prices) }}</td>
      </tr>
    </table>
  </div>
</template>

<template id="cart-template">
  <div class="cart" v-if="data.checkout && data.solutions.length > 0">

    <h3>Cart</h3>
    <p>
      {{data.schoolType}} {{data.studentPriceGroup}}
    </p>
    <table class="table cart table-condensed client-table">
      <tr v-for="item in listCart">
        <td v-html="item.name"></td>
        <td>{{ item.price }}</td>
      </tr>
    </table>

    <p class="subTotal">Total Price: {{ data.cost }}</p>

  </div>
</template>

<template id="user-form-template">
  <div v-if="data.checkout && data.solutions.length > 0" class="user-form">
    <h3>Order Details</h3>
    <div class="row-fluid">
      <div class="span6">
        <div>
            DBN<br />
            <input type="text" v-model="data.userInfo.DBN" placeholder="e.g. 12X345">
        </div>
        <div>
          School Name<br />
          <input type="text" v-model="data.userInfo.school">
        </div>
        <div>
            First Name<br />
            <input type="text" v-model="data.userInfo.firstName">
        </div>
        <div>
            Last Name<br />
            <input type="text" v-model="data.userInfo.lastName">
        </div>
      </div>
      <div class="span6">
        <div>
            Email<br />
            <input type="text" v-model="data.userInfo.email">
        </div>
        <div>
            Telephone<br />
            <input type="text" v-model="data.userInfo.telephone">
        </div>
        <div>
            Principal's Name<br />
            <input type="text" v-model="data.userInfo.prinicpal">
        </div>
      </div>
    </div>  
    <button class="form-button" style="margin-top: 20px" v-on:click="submitOrder()">
      Submit Order
    </button>
  </div>
</template>

<template id="cart-button-template">
  <div v-if="listCart.length > 0 && data.checkout==false">
    <div>
      <button class="form-button pull-right" v-on:click="checkout()">
         Check Out
         <span class="badge badge-important" style="margin-left: 3px">
            {{data.solutions.length}}
          </span> 
      </button>
    </div>
    <div class="pull-right" style="clear: both; padding-top: 10px">
       {{ data.cost }} total
    </div>
  </div>
</template>

<template id="solutions-template">
  <div style="padding: 20px">
    <p>&nbsp;</p>
    <h3>Solutions</h3>
    <table class="table solutions table-condensed client-table">
      <tr v-for="item in getSolutions">
        <td>
            <label>
              <input  type="checkbox" 
                      v-if="!item.radio"
                      :disabled="item.disabled"
                      v-model="solutions" 
                      v-bind:value="item.id" 
                      :checked="item.selected" 
                      v-on:click="showState(item)"
              /> 

              <input  type="radio" 
                      name="option" 
                      v-if="item.radio"
                      v-bind:value="item.id" 
                      v-on:click="selectOption(item)"
              /> 
              <span>
                <a v-bind:href="item.modal" class="modalTrigger">
                  {{ item.name }}
                </a>
                <br v-if="item.subtitle" />
                <em v-if="item.subtitle"> 
                  {{item.subtitle}}
                </em>
              </span>
            </label>

        </td>
        <td v-html="priceForItem(item)"></td>
      </tr>
    </table>

    <p>&nbsp;</p>
    <h3>Services</h3>
    <table class="table services table-condensed client-table">
      <tr v-for="item in getServices">
        <td>
            <label>

              <input  type="checkbox" 
                      :disabled="item.disabled"
                      v-model="solutions" 
                      v-bind:value="item.id" 
                      :checked="checkStatus(item)" 
              /> 

              <span>
                {{ item.name }}
              </span>
            </label>
        </td>
        <td>{{ priceForItem(item) }}</td>
      </tr>
    </table>
  </div>
</template>



  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://unpkg.com/vue/dist/vue.js"></script>

  <script type="text/javascript" src="js/products.js"></script>
  <script type="text/javascript" src="js/util.js"></script>
  <script type="text/javascript" src="js/script.js"></script>

</body>
</html>

